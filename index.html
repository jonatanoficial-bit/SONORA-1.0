<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <title>SONORA</title>
  <meta name="theme-color" content="#0ea5e9" />
  <link rel="manifest" href="./manifest.webmanifest" />
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/icons/favicon-32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="./assets/icons/favicon-16.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="./assets/icons/icon-180.png" />

  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="assets/css/app.css" />
</head>
<body>
  <div id="bg">
    <div class="bg-blob b1"></div>
    <div class="bg-blob b2"></div>
    <div class="bg-grid"></div>
    <div class="bg-noise"></div>
  </div>

  <header class="topbar">
    <button class="icon-btn" id="btnMenu" aria-label="Menu">
      <span class="icon">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 6h16M4 12h16M4 18h16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </span>
    </button>
    <div class="brand">
      <img class="brand-logo" src="./assets/icons/icon-192.png" alt="SONORA" />
      <img src="./assets/img/logo-wordmark.png" alt="SONORA" style="height:22px;opacity:.95;display:block" />
      <div class="brand-mark"></div>
      <div class="brand-text">
        <div class="brand-title">SONORA</div>
        <div class="brand-sub" id="brandSub">Audio • Acústica • Planejamento</div>
      </div>
    </div>
    <button class="icon-btn" id="btnQuick" aria-label="Ações rápidas">
      <span class="icon">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 5v14M5 12h14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </span>
    </button>
  </header>

  <main id="app" class="app-shell" class="app" role="main"></main>

  <nav class="dock" aria-label="Navegação">
    <button class="dock-item" data-route="/home" aria-label="Início">
      <span class="icon">
        <svg viewBox="0 0 24 24"><path d="M4 10.5 12 4l8 6.5V20a1.5 1.5 0 0 1-1.5 1.5H5.5A1.5 1.5 0 0 1 4 20v-9.5Z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Início</span>
    </button>
    <button class="dock-item" data-route="/measure" aria-label="Medição">
      <span class="icon">
        <svg viewBox="0 0 24 24"><path d="M7 4h10v16H7zM7 8h10" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Medição</span>
    </button>

    <button class="dock-item" data-route="/ir" aria-label="IR">
      <span class="icon">
        <svg viewBox="0 0 24 24"><path d="M4 12h16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M7 12c0-3 2-6 5-6s5 3 5 6-2 6-5 6-5-3-5-6z" fill="none" stroke="currentColor" stroke-width="2"/></svg>
      </span>
      <span class="label">IR</span>
    </button>

    <button class="dock-item" data-route="/plan" aria-label="Planejar">
      <span class="icon">
        <svg viewBox="0 0 24 24"><path d="M12 2v6M6 6h12M6 22V8h12v14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </span>
      <span class="label">Planejar</span>
    </button>

    <button class="dock-item" data-route="/sim" aria-label="Simular">
      <span class="icon">
        <svg viewBox="0 0 24 24"><path d="M4 6h16v12H4z" fill="none" stroke="currentColor" stroke-width="2"/><path d="M7 15l3-4 3 3 4-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Simular</span>
    </button>

    <button class="dock-item" data-route="/report" aria-label="Relatório">
      <span class="icon">
        <svg viewBox="0 0 24 24"><path d="M7 3h7l3 3v15a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 5 21V4.5A1.5 1.5 0 0 1 6.5 3H7Zm7 0v4h4" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/><path d="M8 11h8M8 15h8M8 19h6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
      </span>
      <span class="label">Relatório</span>
    </button>
<button class="dock-item" data-route="/settings" aria-label="Ajustes">
      <span class="icon">
        <svg viewBox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 1 0 12 8.5a3.5 3.5 0 0 0 0 7ZM19.4 15a7.9 7.9 0 0 0 .1-6l2-1.5-2-3.4-2.4 1a8.4 8.4 0 0 0-5.1-2L11.5 0h-4L7 3.1a8.4 8.4 0 0 0-3.9 3L.6 5.1l-2 3.4L.6 10a7.9 7.9 0 0 0 .1 6l-2 1.5 2 3.4 2.4-1a8.4 8.4 0 0 0 3.9 3L7.5 24h4l.5-3.1a8.4 8.4 0 0 0 5.1-2l2.4 1 2-3.4-2-1.5Z" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linejoin="round"/></svg>
      </span>
      <span class="label">Ajustes</span>
    </button>
  </nav>

  <div class="sheet" id="sheet" aria-hidden="true">
    <div class="sheet-backdrop" id="sheetBackdrop"></div>
    <div class="sheet-panel" role="dialog" aria-modal="true" aria-label="Menu">
      <div class="sheet-handle"></div>
      <div class="sheet-header">
        <div class="sheet-title">Menu</div>
        <button class="icon-btn" id="btnCloseSheet" aria-label="Fechar">
          <span class="icon">
            <svg viewBox="0 0 24 24"><path d="M6 6l12 12M18 6 6 18" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          </span>
        </button>
      </div>

      <div class="sheet-actions">
        <button class="pill" data-route="/admin"><span class="dot"></span> Admin</button>
        <button class="pill" id="btnExport"><span class="dot"></span> Exportar dados</button>
        <button class="pill" id="btnImport"><span class="dot"></span> Importar dados</button>
        <input id="fileImport" type="file" accept="application/json" hidden />
      </div>

      <div class="sheet-footer">
        <div class="tiny" id="buildInfo"></div>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" aria-live="polite"></div>

  <script type="module" src="src/app.js"></script>
</body>
</html>
